# Agora E-go
## 目录
- [Agora E-go](#agora-e-go)
  - [目录](#目录)
  - [项目规范](#项目规范)
    - [命名规范](#命名规范)
    - [封装规范](#封装规范)
    - [注释规范](#注释规范)
    - [变量规范](#变量规范)
    - [Commit Message规范](#commit-message规范)
    - [代码质量规范](#代码质量规范)
    - [其他规范](#其他规范)

## 项目规范
### 命名规范
| 对象 | 命名规范 |
| :-- | :-- |
| 类、方法 | 使用大驼峰命名法 |
| 事件 | 使用大驼峰命名法，名称应为`On[Verb.]`格式，动词代表相关行为，在该行为开始前触发应使用现在分词，如`OnValidating`，在该行为完成后触发应使用过去分词，如`OnDeserialized` |
| 属性 | `public`属性应使用大驼峰命名法，非`public`则使用小驼峰命名法 |
| 字段 | 使用小驼峰命名法，有同名非`public`属性存在则添加前缀`_` |
| 类型参数 | 使用大驼峰命名法，并添加前缀`T` |
| 临时变量、形式参数 | 使用小驼峰命名法 |
| 抽象类 | 使用大驼峰命名法，并添加前缀`Abstract`或后缀`Base` |
| 接口 | 使用大驼峰命名法，并添加前缀`I` |

原则上所有命名应是英文单词全称，不应有中文名称、拼音或英文缩写，除非该英文缩写作为词汇已被广泛接受。
### 封装规范
所有字段均应为`protected`或`private`，只通过属性向外暴露。  
原则上不应使用反射调用私有成员。
### 注释规范
| 对象 | 注释规范 |
| :-- | :-- |
| 类、事件 | 应附带`xml`注释 |
| 方法 | 应附带`xml`注释，内部复杂部分应附带额外注释 |
| 属性、字段 | 原则上应附带`xml`注释 |

所有注释原则上应该是中文。
自动生成代码可以不写注释。
### 变量规范
临时变量原则上应简短但易于识别用途，例如`inputText`，单词可使用无歧义的缩写，例如`resultDict`。
临时变量过长的类名应使用`var`关键字代替：
```C#
var resultDict = new ConcurrentDictionary<string, string>();
//...
```
但使用不能看出类型的方法来给变量初始化时仍应使用完整类名：
```C#
HashSet<string> checkerSet = GetRepeatingCheckerSet();
//...
```
### Commit Message规范
Commit Message格式：
```
<type>(<scope>): <subject>
```
注意应使用英文冒号并接空格。
- `type`:
用于说明 commit 的类别，只允许使用下面7个标识。

  - `feat`：新功能（feature）

  - `fix`：修补bug

  - `docs`：文档（documentation）

  - `style`： 格式（不影响代码运行的变动）

  - `refactor`：重构（即不是新增功能，也不是修改bug的代码变动）

  - `test`：增加测试

  - `chore`：构建过程或辅助工具的变动

- `scope`:
    - 用于说明 commit 影响的范围，应为包括后缀名的文件名完整路径，多于一个时文件名应使用`*`代替。
- `subject`:
  - 对具体的内容的简短说明，应使用中文。

Commit Message示例：
```
docs(README.md): 添加项目规范
```
```
feat(Server/RoomBooking/*): 添加房间预约模块
```
```
feat(UnitTest/Schedule/*): 添加一些对日程表模块的测试
```
### 代码质量规范
原则上单个方法的圈复杂度不应超过25。  
原则上继承深度不应超过4（继承自框架或包提供的类的那部分继承深度不计）。
### 其他规范
原则上所有方法与类应保证线程安全。  
原则上代码应符合面向对象程序设计原则。